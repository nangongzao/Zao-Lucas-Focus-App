<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>枣和Lucas的专注世界</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-image: url('https://i.imgur.com/nk08jjo.jpeg');
      background-size: cover;
      background-position: center;
      font-family: Arial, sans-serif;
      color: white;
    }

    .container {
      background-color: rgba(0, 0, 0, 0.40);
      padding: 20px;
      margin: 30px auto;
      max-width: 800px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }

    h1 {
      text-align: center;
      font-size: 2em;
      margin-bottom: 30px;
    }

    .section {
      margin-bottom: 30px;
    }

    .section h2 {
      font-size: 1.5em;
      margin-bottom: 10px;
    }

    .section input[type="text"],
    .section textarea,
    .section select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 5px;
      border: none;
    }

    .button {
      background-color: #ffffff33;
      border: none;
      color: white;
      padding: 10px 15px;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 10px;
      transition: background-color 0.3s;
    }

    .button:hover {
      background-color: #ffffff66;
    }

    .item-list {
      margin-top: 10px;
    }

    .item {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 10px;
    }

    /* 隐藏的弹出窗口 */
    #music-player-window {
      display: none;
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(255, 255, 255, 0.8); /* 80%透明背景 */
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      width: 90%;
      max-width: 600px;
      color: black; /* 字体颜色为黑色 */
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      color: black;
      font-size: 20px;
      cursor: pointer;
    }

    .audio-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .audio-controls button {
      background-color: #ffffff33;
      border: none;
      color: white;
      padding: 10px;
      cursor: pointer;
      border-radius: 10px;
    }

    .audio-controls select {
      background-color: #ffffff33;
      color: white;
      padding: 8px;
      border-radius: 5px;
      border: none;
    }

    .audio-controls input[type="range"] {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>枣和Lucas的专注世界</h1>

    <div class="section" id="music-section">
      <h2>🎵 音乐管理</h2>
      <button class="button" id="open-music-player">管理背景音乐与氛围音</button>
      <div class="item-list" id="music-list"></div>
    </div>
  </div>

  <!-- 音乐播放器弹出窗口 -->
  <div id="music-player-window">
    <span class="close-btn" id="close-music-player">&times;</span>
    <h2>🎵 音乐播放器</h2>
    
    <div id="bgm-player" class="player">
      <h3>背景音乐</h3>
      <audio id="bgm-audio" controls>
        <source id="bgm-source" src="" type="audio/mp3">
      </audio>
      <div class="audio-controls">
        <button id="bgm-play-button">播放</button>
        <select id="bgm-loop-select">
          <option value="none">无循环</option>
          <option value="single">单曲循环</option>
          <option value="list">列表循环</option>
        </select>
        <div>
          <label for="bgm-volume">音量</label>
          <input type="range" id="bgm-volume" min="0" max="100" value="100">
        </div>
      </div>
    </div>

    <div id="ambient-music-player" class="player">
      <h3>氛围音</h3>
      <audio id="ambient-audio" controls>
        <source id="ambient-source" src="" type="audio/mp3">
      </audio>
      <div class="audio-controls">
        <button id="ambient-play-button">播放</button>
        <select id="ambient-loop-select">
          <option value="none">无循环</option>
          <option value="single">单曲循环</option>
          <option value="list">列表循环</option>
        </select>
        <div>
          <label for="ambient-volume">音量</label>
          <input type="range" id="ambient-volume" min="0" max="100" value="100">
        </div>
      </div>
    </div>

    <input type="text" placeholder="歌曲名称">
    <input type="file" accept="audio/*">
    <button class="button" id="add-music-button">添加音乐</button>
  </div>

  <script>
    // 音乐播放器控制
    let bgmAudio = document.getElementById('bgm-audio');
    let bgmSource = document.getElementById('bgm-source');
    let bgmPlayButton = document.getElementById('bgm-play-button');
    let bgmLoopSelect = document.getElementById('bgm-loop-select');
    let bgmVolume = document.getElementById('bgm-volume');

    bgmPlayButton.addEventListener('click', () => {
      if (bgmAudio.paused) {
        bgmAudio.play();
        bgmPlayButton.innerHTML = '暂停';
      } else {
        bgmAudio.pause();
        bgmPlayButton.innerHTML = '播放';
      }
    });

    bgmLoopSelect.addEventListener('change', () => {
      if (bgmLoopSelect.value === 'single') {
        bgmAudio.loop = true;
      } else if (bgmLoopSelect.value === 'list') {
        bgmAudio.loop = false;
      } else {
        bgmAudio.loop = false;
      }
    });

    bgmVolume.addEventListener('input', () => {
      bgmAudio.volume = bgmVolume.value / 100;
    });

    // 氛围音播放器控制
    let ambientAudio = document.getElementById('ambient-audio');
    let ambientSource = document.getElementById('ambient-source');
    let ambientPlayButton = document.getElementById('ambient-play-button');
    let ambientLoopSelect = document.getElementById('ambient-loop-select');
    let ambientVolume = document.getElementById('ambient-volume');

    ambientPlayButton.addEventListener('click', () => {
      if (ambientAudio.paused) {
        ambientAudio.play();
        ambientPlayButton.innerHTML = '暂停';
      } else {
        ambientAudio.pause();
        ambientPlayButton.innerHTML = '播放';
      }
    });

    ambientLoopSelect.addEventListener('change', () => {
      if (ambientLoopSelect.value === 'single') {
        ambientAudio.loop = true;
      } else if (ambientLoopSelect.value === 'list') {
        ambientAudio.loop = false;
      } else {
        ambientAudio.loop = false;
      }
    });

    ambientVolume.addEventListener('input', () => {
      ambientAudio.volume = ambientVolume.value / 100;
    });

    // 添加音乐功能
    let addMusicButton = document.getElementById('add-music-button');
    addMusicButton.addEventListener('click', () => {
      let musicFile = document.querySelector("#music-player-window input[type='file']").files[0];
      let musicName = document.querySelector("#music-player-window input[type='text']").value;

      if (musicFile && musicName) {
        let musicItem = document.createElement('div');
        musicItem.classList.add('item');
        musicItem.textContent = musicName;
        let musicURL = URL.createObjectURL(musicFile);
        musicItem.addEventListener('click', () => {
          bgmSource.src = musicURL;
          bgmAudio.load();
          bgmAudio.play();
          bgmPlayButton.innerHTML = '暂停';
        });
        document.getElementById('music-list').appendChild(musicItem);
      }
    });

    // 显示和关闭音乐播放器窗口
    let openMusicPlayerButton = document.getElementById('open-music-player');
    let closeMusicPlayerButton = document.getElementById('close-music-player');
    let musicPlayerWindow = document.getElementBy

    });

    // 显示和关闭音乐播放器窗口
    let openMusicPlayerButton = document.getElementById('open-music-player');
    let closeMusicPlayerButton = document.getElementById('close-music-player');
    let musicPlayerWindow = document.getElementById('music-player-window');

    openMusicPlayerButton.addEventListener('click', () => {
      musicPlayerWindow.style.display = 'block';
    });

    closeMusicPlayerButton.addEventListener('click', () => {
      musicPlayerWindow.style.display = 'none';
    });

    // 氛围音播放器控制
    let ambientMusicAudio = document.getElementById('ambient-music-audio');
    let ambientMusicSource = document.getElementById('ambient-music-source');
    let ambientPlayButton = document.getElementById('ambient-play-button');
    let ambientLoopSelect = document.getElementById('ambient-loop-select');

    ambientPlayButton.addEventListener('click', () => {
      if (ambientMusicAudio.paused) {
        ambientMusicAudio.play();
        ambientPlayButton.innerHTML = '暂停';
      } else {
        ambientMusicAudio.pause();
        ambientPlayButton.innerHTML = '播放';
      }
    });

    ambientLoopSelect.addEventListener('change', () => {
      if (ambientLoopSelect.value === 'single') {
        ambientMusicAudio.loop = true;
      } else if (ambientLoopSelect.value === 'list') {
        ambientMusicAudio.loop = false;
      } else {
        ambientMusicAudio.loop = false;
      }
    });

    // 添加氛围音功能
    let addAmbientMusicButton = document.getElementById('add-ambient-music-button');
    addAmbientMusicButton.addEventListener('click', () => {
      let ambientMusicFile = document.querySelector("#ambient-music-player-window input[type='file']").files[0];
      let ambientMusicName = document.querySelector("#ambient-music-player-window input[type='text']").value;

      if (ambientMusicFile && ambientMusicName) {
        let ambientMusicItem = document.createElement('div');
        ambientMusicItem.classList.add('item');
        ambientMusicItem.textContent = ambientMusicName;
        let ambientMusicURL = URL.createObjectURL(ambientMusicFile);
        ambientMusicItem.addEventListener('click', () => {
          ambientMusicSource.src = ambientMusicURL;
          ambientMusicAudio.load();
          ambientMusicAudio.play();
          ambientPlayButton.innerHTML = '暂停';
        });
        document.getElementById('ambient-music-list').appendChild(ambientMusicItem);
      }
    });

    // 显示和关闭氛围音播放器窗口
    let openAmbientMusicPlayerButton = document.getElementById('open-ambient-music-player');
    let closeAmbientMusicPlayerButton = document.getElementById('close-ambient-music-player');
    let ambientMusicPlayerWindow = document.getElementById('ambient-music-player-window');

    openAmbientMusicPlayerButton.addEventListener('click', () => {
      ambientMusicPlayerWindow.style.display = 'block';
    });

    closeAmbientMusicPlayerButton.addEventListener('click', () => {
      ambientMusicPlayerWindow.style.display = 'none';
    });
  </script>
</body>
</html>
