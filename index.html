<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ£å’ŒLucasçš„ä¸“æ³¨ä¸–ç•Œ</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-image: url('https://i.imgur.com/nk08jjo.jpeg');
      background-size: cover;
      background-position: center;
      font-family: Arial, sans-serif;
      color: white;
    }

    .container {
      background-color: rgba(0, 0, 0, 0.40);
      padding: 20px;
      margin: 30px auto;
      max-width: 800px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }

    h1 {
      text-align: center;
      font-size: 2em;
      margin-bottom: 30px;
    }

    .section {
      margin-bottom: 30px;
    }

    .section h2 {
      font-size: 1.5em;
      margin-bottom: 10px;
    }

    .section input[type="text"],
    .section textarea,
    .section select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 5px;
      border: none;
    }

    .button {
      background-color: #ffffff33;
      border: none;
      color: white;
      padding: 10px 15px;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 10px;
      transition: background-color 0.3s;
    }

    .button:hover {
      background-color: #ffffff66;
    }

    .item-list {
      margin-top: 10px;
    }

    .item {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 10px;
    }

    /* éšè—çš„å¼¹å‡ºçª—å£ */
    #music-player-window {
      display: none;
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(255, 255, 255, 0.8); /* 80%é€æ˜èƒŒæ™¯ */
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      width: 90%;
      max-width: 600px;
      color: black; /* å­—ä½“é¢œè‰²ä¸ºé»‘è‰² */
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      color: black;
      font-size: 20px;
      cursor: pointer;
    }

    .audio-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .audio-controls button {
      background-color: #ffffff33;
      border: none;
      color: white;
      padding: 10px;
      cursor: pointer;
      border-radius: 10px;
    }

    .audio-controls select {
      background-color: #ffffff33;
      color: white;
      padding: 8px;
      border-radius: 5px;
      border: none;
    }

    .audio-controls input[type="range"] {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>æ£å’ŒLucasçš„ä¸“æ³¨ä¸–ç•Œ</h1>

    <div class="section" id="music-section">
      <h2>ğŸµ éŸ³ä¹ç®¡ç†</h2>
      <button class="button" id="open-music-player">ç®¡ç†èƒŒæ™¯éŸ³ä¹ä¸æ°›å›´éŸ³</button>
      <div class="item-list" id="music-list"></div>
    </div>
  </div>

  <!-- éŸ³ä¹æ’­æ”¾å™¨å¼¹å‡ºçª—å£ -->
  <div id="music-player-window">
    <span class="close-btn" id="close-music-player">&times;</span>
    <h2>ğŸµ éŸ³ä¹æ’­æ”¾å™¨</h2>
    
    <div id="bgm-player" class="player">
      <h3>èƒŒæ™¯éŸ³ä¹</h3>
      <audio id="bgm-audio" controls>
        <source id="bgm-source" src="" type="audio/mp3">
      </audio>
      <div class="audio-controls">
        <button id="bgm-play-button">æ’­æ”¾</button>
        <select id="bgm-loop-select">
          <option value="none">æ— å¾ªç¯</option>
          <option value="single">å•æ›²å¾ªç¯</option>
          <option value="list">åˆ—è¡¨å¾ªç¯</option>
        </select>
        <div>
          <label for="bgm-volume">éŸ³é‡</label>
          <input type="range" id="bgm-volume" min="0" max="100" value="100">
        </div>
      </div>
    </div>

    <div id="ambient-music-player" class="player">
      <h3>æ°›å›´éŸ³</h3>
      <audio id="ambient-audio" controls>
        <source id="ambient-source" src="" type="audio/mp3">
      </audio>
      <div class="audio-controls">
        <button id="ambient-play-button">æ’­æ”¾</button>
        <select id="ambient-loop-select">
          <option value="none">æ— å¾ªç¯</option>
          <option value="single">å•æ›²å¾ªç¯</option>
          <option value="list">åˆ—è¡¨å¾ªç¯</option>
        </select>
        <div>
          <label for="ambient-volume">éŸ³é‡</label>
          <input type="range" id="ambient-volume" min="0" max="100" value="100">
        </div>
      </div>
    </div>

    <input type="text" placeholder="æ­Œæ›²åç§°">
    <input type="file" accept="audio/*">
    <button class="button" id="add-music-button">æ·»åŠ éŸ³ä¹</button>
  </div>

  <script>
    // éŸ³ä¹æ’­æ”¾å™¨æ§åˆ¶
    let bgmAudio = document.getElementById('bgm-audio');
    let bgmSource = document.getElementById('bgm-source');
    let bgmPlayButton = document.getElementById('bgm-play-button');
    let bgmLoopSelect = document.getElementById('bgm-loop-select');
    let bgmVolume = document.getElementById('bgm-volume');

    bgmPlayButton.addEventListener('click', () => {
      if (bgmAudio.paused) {
        bgmAudio.play();
        bgmPlayButton.innerHTML = 'æš‚åœ';
      } else {
        bgmAudio.pause();
        bgmPlayButton.innerHTML = 'æ’­æ”¾';
      }
    });

    bgmLoopSelect.addEventListener('change', () => {
      if (bgmLoopSelect.value === 'single') {
        bgmAudio.loop = true;
      } else if (bgmLoopSelect.value === 'list') {
        bgmAudio.loop = false;
      } else {
        bgmAudio.loop = false;
      }
    });

    bgmVolume.addEventListener('input', () => {
      bgmAudio.volume = bgmVolume.value / 100;
    });

    // æ°›å›´éŸ³æ’­æ”¾å™¨æ§åˆ¶
    let ambientAudio = document.getElementById('ambient-audio');
    let ambientSource = document.getElementById('ambient-source');
    let ambientPlayButton = document.getElementById('ambient-play-button');
    let ambientLoopSelect = document.getElementById('ambient-loop-select');
    let ambientVolume = document.getElementById('ambient-volume');

    ambientPlayButton.addEventListener('click', () => {
      if (ambientAudio.paused) {
        ambientAudio.play();
        ambientPlayButton.innerHTML = 'æš‚åœ';
      } else {
        ambientAudio.pause();
        ambientPlayButton.innerHTML = 'æ’­æ”¾';
      }
    });

    ambientLoopSelect.addEventListener('change', () => {
      if (ambientLoopSelect.value === 'single') {
        ambientAudio.loop = true;
      } else if (ambientLoopSelect.value === 'list') {
        ambientAudio.loop = false;
      } else {
        ambientAudio.loop = false;
      }
    });

    ambientVolume.addEventListener('input', () => {
      ambientAudio.volume = ambientVolume.value / 100;
    });

    // æ·»åŠ éŸ³ä¹åŠŸèƒ½
    let addMusicButton = document.getElementById('add-music-button');
    addMusicButton.addEventListener('click', () => {
      let musicFile = document.querySelector("#music-player-window input[type='file']").files[0];
      let musicName = document.querySelector("#music-player-window input[type='text']").value;

      if (musicFile && musicName) {
        let musicItem = document.createElement('div');
        musicItem.classList.add('item');
        musicItem.textContent = musicName;
        let musicURL = URL.createObjectURL(musicFile);
        musicItem.addEventListener('click', () => {
          bgmSource.src = musicURL;
          bgmAudio.load();
          bgmAudio.play();
          bgmPlayButton.innerHTML = 'æš‚åœ';
        });
        document.getElementById('music-list').appendChild(musicItem);
      }
    });

    // æ˜¾ç¤ºå’Œå…³é—­éŸ³ä¹æ’­æ”¾å™¨çª—å£
    let openMusicPlayerButton = document.getElementById('open-music-player');
    let closeMusicPlayerButton = document.getElementById('close-music-player');
    let musicPlayerWindow = document.getElementBy

    });

    // æ˜¾ç¤ºå’Œå…³é—­éŸ³ä¹æ’­æ”¾å™¨çª—å£
    let openMusicPlayerButton = document.getElementById('open-music-player');
    let closeMusicPlayerButton = document.getElementById('close-music-player');
    let musicPlayerWindow = document.getElementById('music-player-window');

    openMusicPlayerButton.addEventListener('click', () => {
      musicPlayerWindow.style.display = 'block';
    });

    closeMusicPlayerButton.addEventListener('click', () => {
      musicPlayerWindow.style.display = 'none';
    });

    // æ°›å›´éŸ³æ’­æ”¾å™¨æ§åˆ¶
    let ambientMusicAudio = document.getElementById('ambient-music-audio');
    let ambientMusicSource = document.getElementById('ambient-music-source');
    let ambientPlayButton = document.getElementById('ambient-play-button');
    let ambientLoopSelect = document.getElementById('ambient-loop-select');

    ambientPlayButton.addEventListener('click', () => {
      if (ambientMusicAudio.paused) {
        ambientMusicAudio.play();
        ambientPlayButton.innerHTML = 'æš‚åœ';
      } else {
        ambientMusicAudio.pause();
        ambientPlayButton.innerHTML = 'æ’­æ”¾';
      }
    });

    ambientLoopSelect.addEventListener('change', () => {
      if (ambientLoopSelect.value === 'single') {
        ambientMusicAudio.loop = true;
      } else if (ambientLoopSelect.value === 'list') {
        ambientMusicAudio.loop = false;
      } else {
        ambientMusicAudio.loop = false;
      }
    });

    // æ·»åŠ æ°›å›´éŸ³åŠŸèƒ½
    let addAmbientMusicButton = document.getElementById('add-ambient-music-button');
    addAmbientMusicButton.addEventListener('click', () => {
      let ambientMusicFile = document.querySelector("#ambient-music-player-window input[type='file']").files[0];
      let ambientMusicName = document.querySelector("#ambient-music-player-window input[type='text']").value;

      if (ambientMusicFile && ambientMusicName) {
        let ambientMusicItem = document.createElement('div');
        ambientMusicItem.classList.add('item');
        ambientMusicItem.textContent = ambientMusicName;
        let ambientMusicURL = URL.createObjectURL(ambientMusicFile);
        ambientMusicItem.addEventListener('click', () => {
          ambientMusicSource.src = ambientMusicURL;
          ambientMusicAudio.load();
          ambientMusicAudio.play();
          ambientPlayButton.innerHTML = 'æš‚åœ';
        });
        document.getElementById('ambient-music-list').appendChild(ambientMusicItem);
      }
    });

    // æ˜¾ç¤ºå’Œå…³é—­æ°›å›´éŸ³æ’­æ”¾å™¨çª—å£
    let openAmbientMusicPlayerButton = document.getElementById('open-ambient-music-player');
    let closeAmbientMusicPlayerButton = document.getElementById('close-ambient-music-player');
    let ambientMusicPlayerWindow = document.getElementById('ambient-music-player-window');

    openAmbientMusicPlayerButton.addEventListener('click', () => {
      ambientMusicPlayerWindow.style.display = 'block';
    });

    closeAmbientMusicPlayerButton.addEventListener('click', () => {
      ambientMusicPlayerWindow.style.display = 'none';
    });
  </script>
</body>
</html>
